{% load static %}
<!DOCTYPE html>
    <html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;900&display=swap" rel="stylesheet">    <meta charset="UTF-8">
        <title>MaricáChat - {% block title %}{% endblock %}</title>
        <link rel="stylesheet"  href="{% static 'css/reset.css' %}">
        <link rel="stylesheet"  href="{% static 'css/style.css' %}">
        <script src="https://kit.fontawesome.com/127269bf17.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <header>
            <h1 class="site-title">
                <a href="{% url 'home' %}">
                    MaricáChat
                </a>
            </h1>

            <nav class="nav"> 
                <button class="btn-menu" aria-label="Abrir menu" aria-haspopup="true" aria-controls="menu" aria-expanded="false">
                    Menu
                    <span class="hamburguer">

                    </span>
                </button>
                
        
                <div class="nav-auth">
                    {% if user.is_authenticated %}
                        <!-- Se o usuário estiver logado, mostre a opção de logout -->
                        <div id="user-is-auth" class="user-is-auth" role="menu">
                            <h3>
                                <a href="{% url 'home' %}">
                                    <i class="icon-h fa-solid fa-house"></i>  Início</a>
                            </h3>
                    
                            <h3>
                                <a href="{% url 'rooms' %}">
                                    <i class="icon-h fa-solid fa-comment"></i>  Chats</a>
                            </h3>
                            <h3>
                                <a href="{% url 'user_profile' %}">
                                    <i class="icon-h fa-solid fa-user"></i> 
                                    {{user.username}}
                                </a>
                                
                            </h3>
    
                            <h3>
                                <a href="{% url 'logout' %}">
                                 <i class="icon-h fa-solid fa-right-from-bracket"></i>  Sair</a>
                            </h3>
                        </div>
                        
                       
                    {% else %}
                        <div id="unlog-user" class="unlog-user"  role="menu">
                            <h3 class="welcome-user">
                                Bem vindo(a)
                            </h3>
                            <h3>
                                <a href="{% url 'login' %}">
                                    <i class="icon-h fa-solid fa-door-open"></i> 
                                     Login</a>
                            </h3>
                            
                            <h3>
                                <a href="{% url 'register' %}">
                                    <i class="icon-h fa-solid fa-ghost"></i>  Criar conta</a>
                            </h3>
                        </div>
                        
                        
                    {% endif %}
                </div>
            </nav>
        </header>
        
    
            {% block content %}{% endblock %}
    
        <footer class="footer">
            <p><a href="https://github.com/reis567" target="_blank">Reis567</a> &copy;.</p>
        </footer>
        
        <script defer>
            const nav = document.querySelector('.nav');
            const btnMenu = document.querySelector('.btn-menu');
            const userIsAuth = document.querySelector('.user-is-auth');
            const unlogUser = document.querySelector('.unlog-user');
            const loginContent = document.querySelector('.login-content');
            const registerContent = document.querySelector('.register-content');
            const profileContent = document.querySelector('.profile-content');
            const chatRoomContent = document.querySelector('.chat_room-content'); 

            function handleButtonClick(event){
                if(event.type === "touchstart")event.preventDefault();
                nav.classList.toggle("active");
                loginContent.classList.toggle('zindex');
            }
            function handleButtonClick2(event){
                registerContent.classList.toggle('zindex');
            }
            function handleButtonClick3(event){
                profileContent.classList.toggle('zindex');
            }
            function handleButtonClick4(event){
                chatRoomContent.classList.toggle('zindex');
            }

            btnMenu.addEventListener('click', handleButtonClick);
            btnMenu.addEventListener('touchstart', handleButtonClick);

            btnMenu.addEventListener('click', handleButtonClick2);
            btnMenu.addEventListener('touchstart', handleButtonClick2);

            btnMenu.addEventListener('click', handleButtonClick3);
            btnMenu.addEventListener('touchstart', handleButtonClick3);
            btnMenu.addEventListener('click', handleButtonClick4);
            
            btnMenu.addEventListener('touchstart', handleButtonClick4);
        </script>       
    </body>
    </html>
    
